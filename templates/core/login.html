{% load static %}
<!doctype html>
<html lang="en" data-layout="vertical" data-topbar="light" data-sidebar="light" data-sidebar-size="lg" data-sidebar-image="none" data-preloader="disable">

<head>
    <meta charset="utf-8" />
    <title>Sign In | {{ APP_NAME }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Voter Management System" name="description" />
    <meta content="{{ APP_NAME }}" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}">

    <!-- Layout config Js -->
    <script src="{% static 'js/layout.js' %}"></script>
    <!-- Bootstrap Css -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="{% static 'css/icons.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- App Css-->
    <link href="{% static 'css/app.min.css' %}" rel="stylesheet" type="text/css" />
</head>

<body class="auth-bg 100-vh">
    <div class="bg-overlay bg-light"></div>

    <div class="account-pages">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-11">
                    <div class="auth-full-page-content d-flex min-vh-100 py-sm-5 py-4">
                        <div class="w-100">
                            <div class="d-flex flex-column h-100 py-0 py-xl-4">

                                <div class="text-center mb-5">
                                    <a href="{% url 'login' %}">
                                        <span class="logo-lg">
                                            <img src="{% static 'images/logo.png' %}" alt="" height="45">
                                        </span>
                                    </a>
                                </div>

                                <div class="card my-auto overflow-hidden">
                                    <div class="row g-0">
                                        <div class="col-lg-6">
                                            <div class="p-lg-5 p-4">
                                                <div class="text-center">
                                                    <h5 class="mb-0">Welcome Back!</h5>
                                                    <p class="text-muted mt-2">Sign in to continue to {{ APP_NAME }}.</p>
                                                </div>

                                                {% if messages %}
                                                {% for message in messages %}
                                                <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show mt-3" role="alert">
                                                    {% if message.tags == 'success' %}<i class="ri-checkbox-circle-line me-2"></i>{% elif message.tags == 'error' or message.tags == 'danger' %}<i class="ri-error-warning-line me-2"></i>{% elif message.tags == 'warning' %}<i class="ri-alert-line me-2"></i>{% else %}<i class="ri-information-line me-2"></i>{% endif %}
                                                    {{ message }}
                                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                                </div>
                                                {% endfor %}
                                                {% endif %}

                                                {% if form.errors %}
                                                <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                                                    <i class="ri-error-warning-line me-2"></i>
                                                    Invalid username or password. Please try again.
                                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                                </div>
                                                {% endif %}

                                                <div class="mt-4">
                                                    <form method="post" class="auth-input">
                                                        {% csrf_token %}
                                                        <div class="mb-3">
                                                            <label for="username" class="form-label">Username</label>
                                                            <input type="text" class="form-control" id="username" name="username" placeholder="Enter username" required>
                                                        </div>

                                                        <div class="mb-2">
                                                            <label for="password" class="form-label">Password</label>
                                                            <div class="position-relative auth-pass-inputgroup mb-3">
                                                                <input type="password" class="form-control pe-5 password-input" placeholder="Enter password" id="password" name="password" required>
                                                                <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon">
                                                                    <i class="las la-eye align-middle fs-18"></i>
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div class="form-check form-check-primary fs-16 py-2">
                                                            <input class="form-check-input" type="checkbox" id="remember-check" name="remember">
                                                            <label class="form-check-label fs-14" for="remember-check">
                                                                Remember me
                                                            </label>
                                                        </div>

                                                        <div class="mt-2">
                                                            <button class="btn btn-primary w-100" type="submit">Log In</button>
                                                        </div>

                                                        <div class="mt-4 text-center">
                                                            <p class="mb-0">Don't have an account? <a href="{% url 'register' %}" class="fw-medium text-primary text-decoration-underline">Sign up now</a></p>
                                                        </div>
                                                    </form>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="col-lg-6">
                                            <div class="d-flex h-100 bg-auth align-items-center justify-content-center">
                                                <div class="p-lg-5 p-4 w-100">
                                                    <div class="bg-overlay bg-primary"></div>
                                                    <div class="p-0 p-sm-4 px-xl-0 py-5 text-center">
                                                        <div id="reviewcarouselIndicators" class="carousel slide auth-carousel" data-bs-ride="carousel">
                                                            <div class="carousel-indicators carousel-indicators-rounded">
                                                                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                                                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                                                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                                            </div>

                                                            <div class="carousel-inner mx-auto">
                                                                <div class="carousel-item active">
                                                                    <div class="testi-contain text-center">
                                                                        <h5 class="fs-20 text-white mb-0">"Secure Voter Management"</h5>
                                                                        <p class="fs-15 text-white-50 mt-2 mb-0">Manage voter registration, authentication, and data with enterprise-grade security and efficiency.</p>
                                                                    </div>
                                                                </div>

                                                                <div class="carousel-item">
                                                                    <div class="testi-contain text-center">
                                                                        <h5 class="fs-20 text-white mb-0">"Streamlined Operations"</h5>
                                                                        <p class="fs-15 text-white-50 mt-2 mb-0">Simplify voter registration processes and maintain accurate records with our intuitive platform.</p>
                                                                    </div>
                                                                </div>

                                                                <div class="carousel-item">
                                                                    <div class="testi-contain text-center">
                                                                        <h5 class="fs-20 text-white mb-0">"Comprehensive Dashboard"</h5>
                                                                        <p class="fs-15 text-white-50 mt-2 mb-0">Access real-time insights and analytics to make informed decisions about voter management.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-5 text-center">
                                    <p class="mb-0 text-muted">
                                        <script>document.write(new Date().getFullYear())</script> Â© {{ APP_NAME }}. Voter Management System
                                    </p>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Password toggle
        document.getElementById('password-addon').addEventListener('click', function() {
            var passwordInput = document.getElementById('password');
            var icon = this.querySelector('i');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('la-eye');
                icon.classList.add('la-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('la-eye-slash');
                icon.classList.add('la-eye');
            }
        });
    </script>
</body>
</html>
